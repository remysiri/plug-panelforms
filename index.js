(function(){"use strict";function l(e,t,n,a,o,r,s,f){var i=typeof e=="function"?e.options:e;return t&&(i.render=t,i.staticRenderFns=n,i._compiled=!0),{exports:e,options:i}}const p={props:{submissions:{type:Array,default:()=>[]},tabs:{type:Array,default:()=>[]},currentForm:{type:String,default:null}},data(){return{sortDirection:"asc",pagination:{page:1,limit:20}}},computed:{index(){return(this.pagination.page-1)*this.pagination.limit+1},paginatedItems(){return this.submissions.slice(this.index-1,this.pagination.limit*this.pagination.page)},columns(){return{timestamp:{label:"Datum",type:"text",width:"3/6"},email:{label:"Email",type:"link",width:"3/6"}}},formattedTabs(){return Array.isArray(this.tabs)?this.tabs.map(e=>({name:e.name,label:e.name,link:e.link})):[]}},methods:{onCell({row:e,columnIndex:t}){this.$panel.drawer.open({component:"k-text-drawer",props:{icon:"info",title:e.timestamp,text:this.formatSubmissionData(e.data)}})},options(e){return[{label:"Weergeven",icon:"info",click:()=>this.$panel.drawer.open({component:"k-text-drawer",props:{icon:"info",title:e.timestamp,text:this.formatSubmissionData(e.data)}})}]},formatSubmissionData(e){let t="";return Object.entries(e).filter(([a])=>a!=="email").forEach(([a,o])=>{const r=a.replace(/([A-Z])/g," $1").replace(/^./,s=>s.toUpperCase()).replace(/_/g," ");t+=`<strong>${r}:</strong><br>${o}<br><br>`}),t}}};var m=function(){var t=this,n=t._self._c;return n("k-inside",[n("k-view",{staticClass:"k-panelforms-view"},[n("k-header",[t._v("Web Forms")]),n("k-tabs",{attrs:{tabs:t.formattedTabs,tab:t.currentForm}}),t.currentForm?[n("k-table",{attrs:{columns:t.columns,index:t.index,rows:t.paginatedItems},on:{cell:t.onCell},scopedSlots:t._u([{key:"options",fn:function({row:a}){return[n("k-options-dropdown",{attrs:{options:t.options(a)}})]}}],null,!1,1363202975)}),n("footer",{staticClass:"k-bar"},[n("k-pagination",t._b({attrs:{details:!0,total:t.submissions.length},on:{paginate:function(a){t.pagination.page=a.page}}},"k-pagination",t.pagination,!1))],1)]:t._e()],2)],1)},c=[],u=l(p,m,c);const d=u.exports;panel.plugin("plug/panelforms",{components:{panelforms:d}})})();
